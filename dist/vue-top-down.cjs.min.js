"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var VTD={COMPONENT:"vue-component",OUTER_HTML:"outerHTML",ROOT:"vtd-root",MAPPING:"vtd-mapping",CLASS:"clazz",STYLE:"vtd-style"},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function outerDom(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=str2dom(e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:"*");return"object"===(void 0===r?"undefined":_typeof(r))&&Object.keys(r).forEach(function(t){o.querySelectorAll(t).forEach(function(e){e.setAttribute(VTD.COMPONENT,kebab(r[t].name))})}),o}function str2dom(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"*",r=document.createElement("div");r.setAttribute("id","root"),r.innerHTML=e;try{var o=r.querySelector(t);return null===o?r:o}catch(e){return console.error(e),r}}function kebab(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function dom2render(r,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(!(r instanceof Function))return null;if(!t)return null;if(t instanceof Text)return t.data;if(!(t instanceof HTMLElement))return null;try{var e,n=t.getAttribute(VTD.COMPONENT);if(n)return r(n,{props:(e={},_defineProperty(e,VTD.OUTER_HTML,t.outerHTML),_defineProperty(e,VTD.CLASS,(t.getAttribute("class")||"").split(" ")),_defineProperty(e,VTD.STYLE,t.getAttribute("style")),e)});var i=[];t.childNodes.forEach(function(e){var t=dom2render(r,e,o+1);t&&i.push(t)});var u={};return t.getAttributeNames().forEach(function(e){u[e]=t.getAttribute(e)}),r(t.tagName,{attrs:u},i)}catch(e){return console.error(e),r("div",{attrs:{class:"render-failure"}})}}function _defineProperty$1(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _props,VueTopDown={props:_defineProperty$1({},VTD.OUTER_HTML,{type:String,default:""}),data:function(){var e;return _defineProperty$1(e={},VTD.ROOT,"*"),_defineProperty$1(e,VTD.MAPPING,{}),e},computed:{outerDom:function(){return outerDom(this[VTD.OUTER_HTML]?this[VTD.OUTER_HTML]:this.$el.outerHTML,this[VTD.MAPPING],this[VTD.ROOT])}},render:function(e){return dom2render(e,this.outerDom)}};function _defineProperty$2(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var VueTopDownItem={props:(_props={},_defineProperty$2(_props,VTD.OUTER_HTML,String),_defineProperty$2(_props,VTD.CLASS,Array),_defineProperty$2(_props,VTD.STYLE,String),_props),inheritAttrs:!1};exports.VueTopDown=VueTopDown,exports.VueTopDownItem=VueTopDownItem,exports.VTDConstants=VTD;
