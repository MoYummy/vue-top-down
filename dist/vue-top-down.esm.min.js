var _props,VTD={COMPONENT:"_VueTopDown_component",FAILURE:"_VueTopDown_failure",OUTER_HTML:"$_VueTopDown_outerHTML",OUTER_DOM:"$_VueTopDown_outerDom",ROOT:"$_VueTopDown_root",MAPPING:"$_VueTopDown_mapping",CLASS:"$_VueTopDown_class",STYLE:"$_VueTopDown_style",RENDER:"$_VueTopDown_render",LIMIT:"$_VueTopDown_limit"},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function linkMapping(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.keys(t),n=Object.values(t),o={},i=function(t){var i=e[t],u=n.findIndex(function(e){return e===i});-1===u&&console.warn(t+" is missing"),o[t]=r[u]};for(var u in e)i(u);return o}function outerDom(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=str2dom(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*");return"object"===(void 0===t?"undefined":_typeof(t))&&Object.keys(t).forEach(function(e){var n=t[e];if("string"==typeof n)try{r.querySelectorAll(e).forEach(function(e){return e.setAttribute(VTD.COMPONENT,kebab(n))})}catch(e){}}),r}function str2dom(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*",r=document.createElement("div");r.setAttribute("id","root"),r.innerHTML=e;var n=void 0;try{if(n=r.querySelector(t))return n}catch(e){console.error(e)}try{return(n=r.querySelector("*"))||r}catch(e){return console.error(e),r}}function kebab(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"string"==typeof e?e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():""}function dom2render(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(e instanceof Function))return null;if(t instanceof Text)return t.data;if(!(t instanceof HTMLElement))return null;var n,o=t.getAttribute(VTD.COMPONENT);if(o)return render(e,o,{props:(n={},_defineProperty(n,VTD.OUTER_HTML,t.outerHTML),_defineProperty(n,VTD.CLASS,(t.getAttribute("class")||"").split(" ")),_defineProperty(n,VTD.STYLE,t.getAttribute("style")),n)});var i=[];t.childNodes.forEach(function(t){var n=dom2render(e,t,r+1);n&&i.push(n)});var u={};return t.getAttributeNames().forEach(function(e){u[e]=t.getAttribute(e)}),render(e,t.tagName,{attrs:u},i)}function render(e,t,r,n){try{return n?e(t,r,n):e(t,r)}catch(e){console.error(e);var o=document.createElement(t);return o.setAttribute([VTD.FAILURE],""),o}}function _defineProperty$1(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _props$1,VueTopDown={props:(_props={},_defineProperty$1(_props,VTD.OUTER_HTML,String),_defineProperty$1(_props,VTD.CLASS,Array),_defineProperty$1(_props,VTD.STYLE,String),_props),inheritAttrs:!1,data:function(){var e;return _defineProperty$1(e={},VTD.ROOT,"*"),_defineProperty$1(e,VTD.MAPPING,{}),_defineProperty$1(e,VTD.RENDER,null),_defineProperty$1(e,VTD.OUTER_DOM,null),_defineProperty$1(e,VTD.LIMIT,0),e},computed:_defineProperty$1({},VTD.OUTER_DOM,function(){return outerDom(this.$props[VTD.OUTER_HTML]?this.$props[VTD.OUTER_HTML]:this.$el.outerHTML,linkMapping(this.$data[VTD.MAPPING],this.$options.components),this.$data[VTD.ROOT])}),render:function(e){var t=this;return this.$data[VTD.LIMIT]>1e3?(console.warn("Too many times for render function to be called"),setTimeout(function(){t.$data[VTD.LIMIT]=0},6e4),this.$data[VTD.RENDER]):(this.$data[VTD.LIMIT]+=1,this.$data[VTD.RENDER]=dom2render(e,this[VTD.OUTER_DOM]),this.$data[VTD.RENDER])}};function _defineProperty$2(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var VueTopDownItem={props:(_props$1={},_defineProperty$2(_props$1,VTD.OUTER_HTML,String),_defineProperty$2(_props$1,VTD.CLASS,Array),_defineProperty$2(_props$1,VTD.STYLE,String),_props$1),inheritAttrs:!1,computed:{outerHTML:function(){return this[VTD.OUTER_HTML]},clazz:function(){return this[VTD.CLASS]}}};export{VueTopDown,VueTopDownItem,VTD as VTDConstants};
